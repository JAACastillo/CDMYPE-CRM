<div class="container">
<section class="content-header">
    <h1> Vinculación </h1>  
</section>
<section class="content animated fadeIn">

    <div class="row">

        <div class="col-sm-12">
          
          <div class="box box-primary">
            <div class="box-body box-profile">
                <form name="form" (ngSubmit)="onSubmit()" method="POST" enctype="multipart/form-data">
                    <div class="row">
                        <div class="form-group col-sm-4">
                        <label for="tema">Tema:</label>
                        <input type="text" class="form-control" name="tema" placeholder="Tema" [(ngModel)]="vinculacion.tema" required autofocus/>
                        </div>  
                        <div class="form-group col-sm-4">
                        <app-buscador-empresas  (empresaSelect)="selectEmpresa($event)"></app-buscador-empresas>
                        </div>
                        <div class="form-group col-sm-4">
                        <label for="institución">Institución:</label>
                        <input type="text" class="form-control" [(ngModel)]="vinculacion.institucion"  name="institucion"/>
                        </div>
                        </div>
                        <div class="row">
                        <div class="form-group col-md-4">
                        <label for="tipo">Tipo:</label>
                        <select name="tipo" class="form-control" [(ngModel)]="vinculacion.tipo" >
                            <option value="Financiero">Financiero</option>
                            <option value="Empresarial">Empresarial</option>
                            <option value="Comercial">Comercial</option>
                            <option value="Tic">TIC</option>   
                        </select>
                        </div>
                        <div class="form-group col-sm-2">
                        <label for="fecha">Fecha:</label>
                        <input type="date" class="form-control" [(ngModel)]="vinculacion.fecha" name="fecha"/>
                        </div>
                        <div class="form-group col-sm-2">
                        <label for="monto">Monto:</label>
                        <input type="number" class="form-control" [(ngModel)]="vinculacion.monto" name="monto"/>
                        </div>
                        <div class="form-group col-sm-6">
                        <label for="descripcion">Descripción:</label>
                        <textarea class="form-control" [(ngModel)]="vinculacion.descripcion" rows="6" name="descripcion" placeholder="Descripción"></textarea>
                        </div>
                        <div class="box-body">
                        <div class="imagen-upload col-md-4" title="Cambiar imagen"> 
                    
                        <img *ngIf="vinculacion?.img && !url_img_preview" class="img-responsive" src="{{ apiService.baseUrl + '/img/' + vinculacion.img }}" height="60%" width="60%">
                        <img *ngIf="url_img_preview" src="{{ url_img_preview }}" height="60%" width="60%">
                        <input type="file" class="inputfile" name="img" id="file" (change)="setFile($event)" accept="image/png, image/jpeg">
                        <label for="file"></label>
                        </div>
                        </div>
                        <div class="col-xs-12">
                        <a href="javascript:window.history.back();" class="btn btn-default"> <i class="fa fa-angle-left"></i> Volver</a>
                         <button [disabled]="loading" class="btn btn-primary pull-right">
                        <span *ngIf="!loading">Guardar</span>
                        <span *ngIf="loading">Guardando...</span>
                    </button> 
                        </div>
                    </div>
                </form>

            </div>
          </div>
        </div>
        
    </div>

</section>
</div>