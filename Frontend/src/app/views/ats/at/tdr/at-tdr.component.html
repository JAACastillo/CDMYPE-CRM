<form name="form" (ngSubmit)="onSubmit()">
    <div class="row">
        <div class="col-xs-12 col-sm-6">
            <div class="form-group">
                <label> * Tema:</label>
                <input type="text" class="form-control" name="tema" [(ngModel)]="at.tema" placeholder="Nombre" required />
            </div>
        </div>
        <div class="col-xs-12 col-sm-6">
            <div class="form-group">
                <label> * Empresario:</label>
                <select class="form-control" [(ngModel)]="at.empresario_id" name="empresario_id">
                    <option *ngFor="let emp of empresarios" [ngValue]="emp.id">{{ emp.nombre }}</option>
                </select>
            </div>
        </div>
        <div class="col-xs-12 col-sm-4">
            <div class="form-group">
                <label for="obj_general"> Objetivo General:</label>
            <textarea class="form-control previsualizar" name="obj_general" [(ngModel)]="at.obj_general" cols="30" rows="3"></textarea>
            </div>
        </div>
        <div class="col-xs-12 col-sm-4">
            <div class="form-group">
                <label for="obj_especifico"> Objetivo Especifico:</label>
                <textarea class="form-control previsualizar" name="obj_especifico" [(ngModel)]="at.obj_especifico" cols="30" rows="3"></textarea>
            </div>
        </div>
        
        <div class="col-xs-12 col-sm-4">
            <div class="form-group">
                <label for="productos"> Productos:</label>
                <textarea class="form-control previsualizar" name="productos" [(ngModel)]="at.productos" cols="30" rows="3"></textarea>
            </div>
        </div>
        <div class="col-xs-12 col-sm-4">
            <div class="form-group">
                <label> Especialidad:</label>
                <select class="form-control" [(ngModel)]="at.especialidad_id" name="especialidad_id">
                    <optgroup *ngFor="let esp of especialidades" label="{{esp.nombre}}">
                        <option *ngFor="let sub of esp.subespecialidades" [ngValue]="sub.id">{{ sub.nombre }}</option>
                      </optgroup>
                </select>

            </div>
        </div>
        <div class="col-xs-12 col-sm-4">
            <div class="form-group">
                <label> Fecha Limite:</label>
                <input type="date" class="form-control" name="fecha" [(ngModel)]="at.fecha"/>
            </div>
        </div>
        <div class="col-xs-12 col-sm-4">
            <div class="form-group">
                <label> Trabajo Local:</label>
                <input type="text" class="form-control" name="trabajo_local" [(ngModel)]="at.trabajo_local"/>
            </div>
        </div>
        <div class="col-xs-12 col-sm-4">
            <div class="form-group">
                <label> Semanas de Ejecuci√≥n:</label>
                <input type="number" class="form-control" name="tiempo_ejecucion" [(ngModel)]="at.tiempo_ejecucion" />
            </div>
        </div>
        <div class="col-xs-12 col-sm-4">
            <div class="form-group">
                <label> Financiamiento:</label>
                <input type="number" class="form-control" name="financiamiento" [(ngModel)]="at.financiamiento"/>
            </div>
        </div>
        <div class="col-xs-12 col-sm-4">
            <div class="form-group">
                <label> Aporte Empresarial:</label>
                <input type="number" class="form-control" name="aporte" [(ngModel)]="at.aporte" />
            </div>
        </div>

        <div class="col-xs-12">
          <a *ngIf="at.id" target="_blank" href="{{ apiService.baseUrl + '/at/tdr/' + at.id }}" class="btn btn-default"> Imprimir</a>
          <button [disabled]="loading" class="btn btn-primary pull-right">
              <span *ngIf="!loading">Guardar</span>
              <span *ngIf="loading">Guardando...</span>
          </button>
        </div>
    </div>
</form>

<div class="modal fade" id="myModal">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
                <h4 class="modal-title" id="titulo"></h4>
            </div>
            <div class="modal-body">
                <div class="row">
                    <div class="col-xs-12">
                        <input type="hidden" id="myModalBandera">
                        <textarea class="form-control" id="texto" cols="30" rows="10"></textarea>
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <a type="button" class="btn btn-primary" (click)="ocultar()" >Guardar</a>
            </div>
        </div>
    </div>
</div>
